___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Seers CMP \u0026 Cookie Banner",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "The seers CMP (Consent Management Provider) allows your to easily collect consent form your websites visitors in order to become GDPR and CCPA compliant.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "sourceUrl",
    "simpleValueType": true,
    "help": "Get your cdn link from script",
    "displayName": "Enter cdn link",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "REGEX",
        "args": [
          "https:\\/\\/[a-z]+\\.seersco\\.com\\/banners\\/[a-z0-9-]+\\/[a-z0-9-]+\\/[a-z0-9-]+\\.js$"
        ]
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "dataKey",
    "displayName": "Enter your data key from script",
    "simpleValueType": true,
    "help": "Get your key from script (data-key)",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const log = require('logToConsole');
const injectScript = require('injectScript');
const queryPermission = require('queryPermission');
const sourceUrl = data.sourceUrl;
const dataKey  = data.dataKey;

const url = sourceUrl + "?param=" + dataKey;
//log('data =', url);
//data.gtmOnSuccess();
const onSuccess = () => {
  //log('Conductrics: Script loaded successfully.');
  data.gtmOnSuccess();
};

// If the script fails to load, log a message and signal failure
const onFailure = () => {
  //log('Conductrics: Script load failed.');
  data.gtmOnFailure();
};
if (queryPermission('inject_script', url)) {
  injectScript(url, onSuccess, onFailure);
} else {
  log('Conductrics: Script load failed due to permissions mismatch.');
  data.gtmOnFailure();
}

// Call data.gtmOnSuccess when the tag is finished.


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.seersco.com/banners/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 4/17/2023, 3:38:09 PM


